{"ast":null,"code":"var _jsxFileName = \"/home/julia/primarymeal/client/src/components/interface/Form.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport AsyncSelect from 'react-select/async';\nimport makeAnimated from 'react-select/animated';\nimport styles from './Form.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst customStyles = {\n  control: (provided, state) => ({ ...provided,\n    borderRadius: 32,\n    border: state.isFocused ? '2px solid #22C55E' : '2px solid #86EFAC',\n    boxShadow: state.isFocused ? 0 : 0,\n    '&:hover': {\n      border: state.isFocused ? '2px solid #22C55E' : '2px solid #86EFAC'\n    }\n  })\n};\n\nfunction Form({\n  setFruit,\n  setResult,\n  fruit,\n  inputValue,\n  setValue,\n  defaultValue\n}) {\n  _s();\n\n  useEffect(() => {\n    console.log(inputValue);\n    console.log(defaultValue);\n    setFruit(defaultValue);\n  }, [defaultValue]);\n\n  const handleInputChange = value => {\n    setValue(value);\n  };\n\n  const handleChange = value => {\n    setFruit(value);\n  };\n\n  const loadOptions = () => {\n    console.log(inputValue);\n    return fetch(\"/fruits\").then(res => res.json()).then(res => res['names'].filter(a => a.value.includes(inputValue)));\n  };\n\n  function handleSubmit(event) {\n    console.log(fruit);\n    event.preventDefault();\n    setResult(\"\");\n    const post_options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        data: fruit\n      })\n    };\n    fetch(\"/fruits\", post_options).then(res => res.json()).then(res => setResult(res['processed']));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(AsyncSelect, {\n      cacheOptions: true,\n      defaultOptions: true,\n      value: fruit,\n      loadOptions: loadOptions,\n      onInputChange: handleInputChange,\n      onChange: handleChange,\n      isMulti: true,\n      autoFocus: true,\n      placeholder: \"Type one or several ingredients\",\n      components: {\n        DropdownIndicator: () => null,\n        IndicatorSeparator: () => null\n      },\n      openMenuOnFocus: false,\n      openMenuOnClick: false,\n      className: styles.classAsync,\n      styles: customStyles,\n      selectedValue: \"lime\",\n      getOptionValue: loadOptions = loadOptions.value,\n      getOptionLabel: loadOptions = loadOptions.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Form, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/home/julia/primarymeal/client/src/components/interface/Form.js"],"names":["useEffect","useState","AsyncSelect","makeAnimated","styles","customStyles","control","provided","state","borderRadius","border","isFocused","boxShadow","Form","setFruit","setResult","fruit","inputValue","setValue","defaultValue","console","log","handleInputChange","value","handleChange","loadOptions","fetch","then","res","json","filter","a","includes","handleSubmit","event","preventDefault","post_options","method","headers","body","JSON","stringify","data","DropdownIndicator","IndicatorSeparator","classAsync","label"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport AsyncSelect from 'react-select/async';\nimport makeAnimated from 'react-select/animated';\nimport styles from './Form.module.css';\n\n\nconst customStyles = {\n    control: (provided, state) => ({\n        ...provided,\n        borderRadius: 32,\n        border: state.isFocused ? '2px solid #22C55E' : '2px solid #86EFAC',\n        boxShadow: state.isFocused ? 0 : 0,\n        '&:hover': {\n            border: state.isFocused ? '2px solid #22C55E' : '2px solid #86EFAC'\n        }\n    }),\n  }\n\nfunction Form({setFruit, setResult, fruit, inputValue, setValue, defaultValue}) {\n        \n    useEffect(() => {\n        console.log(inputValue);\n        console.log(defaultValue);\n        setFruit(defaultValue);\n    }, [defaultValue]);\n    \n    const handleInputChange = value => {setValue(value)};\n\n    const handleChange = value => {setFruit(value)};\n\n    const loadOptions = () => {\n        console.log(inputValue)\n        return fetch(\"/fruits\")\n            .then(res => res.json())\n            .then(res => res['names'].filter((a) => a.value.includes(inputValue)))\n        };\n    \n\n    function handleSubmit(event) {\n        console.log(fruit)\n        event.preventDefault();\n        setResult(\"\");\n        const post_options = {\n            method: 'POST',\n            headers: {'Content-Type' : 'application/json'},\n            body: JSON.stringify({ data: fruit })\n        }\n\n        fetch(\"/fruits\", post_options)\n            .then(res => res.json())\n            .then(res => setResult(res['processed']))\n            \n    }    \n      \n    return(\n    <form onSubmit={handleSubmit}>\n        <AsyncSelect\n        cacheOptions\n        defaultOptions\n        value = {fruit}\n        loadOptions = {loadOptions}\n        onInputChange = {handleInputChange}\n        onChange = {handleChange}\n        isMulti\n        autoFocus\n        placeholder = \"Type one or several ingredients\"\n        components = {{ DropdownIndicator:() => null, IndicatorSeparator:() => null }}\n        openMenuOnFocus = {false}\n        openMenuOnClick = {false}\n        className = {styles.classAsync}\n        styles = {customStyles}\n        selectedValue = \"lime\"\n                getOptionValue = {(loadOptions) = loadOptions.value}\n        getOptionLabel = {(loadOptions) = loadOptions.label}\n        />\n    </form>\n    )     \n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}